{"ast":null,"code":"import _slicedToArray from \"/Users/swyx/Work/netlify-identity-fauna-reddit-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/swyx/Work/netlify-identity-fauna-reddit-clone/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/swyx/Work/netlify-identity-fauna-reddit-clone/packages/app/src/App.js\";\nimport React, { useState } from 'react';\nimport { Router, Link } from '@reach/router';\nimport TodoModel from './TodoModel';\nimport useNetlifyIdentity from 'hooks/useNetlifyIdentity';\nimport { useInput } from 'hooks';\nimport { ModelCtx, UserCtx } from 'contexts';\nimport { LoggedIn } from './components/LoggedIn';\nimport './App.css';\nimport './login.css';\nvar model = new TodoModel('react-todos');\n\nvar Home = function Home() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, \"Home2\");\n};\n\nvar NotFound = function NotFound() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, \"Sorry, nothing here.\");\n};\n\nfunction Login() {\n  var _React$useContext = React.useContext(UserCtx),\n      user = _React$useContext.user,\n      doLogin = _React$useContext.doLogin,\n      doLogout = _React$useContext.doLogout; // return (\n  //   <div className=\"Login\">\n  //     {user ? (\n  //       <LoggedIn />\n  //     ) : (\n  //       <span>\n  //         <a onClick={doLogin}>Login or Sign Up</a>\n  //       </span>\n  //     )}\n  //   </div>\n\n\n  var actionForm = React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    onClick: doLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Login or Sign Up\"));\n  return React.createElement(\"div\", {\n    className: \"Login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, user ? React.createElement(\"a\", {\n    onClick: doLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Logout\") : actionForm);\n}\n\nfunction List(props) {\n  var _React$useContext2 = React.useContext(ModelCtx),\n      model = _React$useContext2.model,\n      lists = _React$useContext2.lists;\n\n  var list = model.list();\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"List\"), React.createElement(\"div\", {\n    className: \"listNav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, list.data.title), React.createElement(\"button\", {\n    onClick: function onClick() {\n      return alert('oops');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"back to all lists\")), React.createElement(\"pre\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, JSON.stringify(props, null, 2)));\n}\n\nfunction AllLists() {\n  var _React$useContext3 = React.useContext(ModelCtx),\n      lists = _React$useContext3.lists;\n\n  console.log('---', {\n    lists: lists\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"listNav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Choose a list.\")), React.createElement(\"section\", {\n    className: \"main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"todo-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, lists.map(function (_ref) {\n    var data = _ref.data,\n        ref = _ref.ref;\n    console.log('list', data, ref);\n    return React.createElement(\"li\", {\n      key: ref.value.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      onClick: function onClick() {\n        return alert('go');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, data.title));\n  }))));\n}\n\nfunction InputArea() {\n  var _React$useContext4 = React.useContext(ModelCtx),\n      model = _React$useContext4.model,\n      lists = _React$useContext4.lists;\n\n  var _useInput = useInput(),\n      setValue = _useInput.setValue,\n      inputProps = _objectWithoutProperties(_useInput, [\"setValue\"]);\n\n  var handleNewTodoKeyDown = function handleNewTodoKeyDown(event) {\n    if (event.keyCode !== 13) return;\n    event.preventDefault();\n    var val = event.target.value.trim();\n\n    if (val) {\n      model.addList(val); // if (this.state.nowShowing === ALL_LISTS) {\n      //   modelRef.current.addList(val);\n      // } else {\n      //   modelRef.current.addTodo(val, modelRef.current.list());\n      // }\n\n      setValue('');\n    }\n  };\n\n  return React.createElement(\"input\", Object.assign({\n    className: \"new-todo\",\n    placeholder: \"Create a new list or choose from below.\",\n    onKeyDown: handleNewTodoKeyDown\n  }, inputProps, {\n    autoFocus: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }));\n}\n\nexport default function App(props) {\n  var modelRef = React.useRef(new TodoModel('react-todos'));\n  var model = modelRef.current;\n  var identity = useNetlifyIdentity(modelRef.current.onAuthChange);\n  var user = identity.user,\n      doLogout = identity.doLogout,\n      doLogin = identity.doLogin,\n      authedFetch = identity.authedFetch;\n\n  var _React$useState = React.useState(model.lists),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      lists = _React$useState2[0],\n      setLists = _React$useState2[1];\n\n  React.useEffect(function () {\n    model.subscribe(function () {\n      setLists(model.lists);\n    });\n  }, []);\n  return React.createElement(ModelCtx.Provider, {\n    value: {\n      model: model,\n      lists: lists\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(UserCtx.Provider, {\n    value: identity,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"todos\"), React.createElement(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(AllLists, {\n    path: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    path: \"list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(List, {\n    path: \":listId\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), React.createElement(List, {\n    path: \":listId/active\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }), React.createElement(List, {\n    path: \":listId/completed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  })), React.createElement(NotFound, {\n    default: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })), React.createElement(InputArea, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  })), React.createElement(\"footer\", {\n    className: \"footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"footer\"))));\n}","map":{"version":3,"sources":["/Users/swyx/Work/netlify-identity-fauna-reddit-clone/packages/app/src/App.js"],"names":["React","useState","Router","Link","TodoModel","useNetlifyIdentity","useInput","ModelCtx","UserCtx","LoggedIn","model","Home","NotFound","Login","useContext","user","doLogin","doLogout","actionForm","List","props","lists","list","data","title","alert","JSON","stringify","AllLists","console","log","map","ref","value","id","InputArea","setValue","inputProps","handleNewTodoKeyDown","event","keyCode","preventDefault","val","target","trim","addList","App","modelRef","useRef","current","identity","onAuthChange","authedFetch","setLists","useEffect","subscribe"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Router, Link } from '@reach/router';\nimport TodoModel from './TodoModel';\nimport useNetlifyIdentity from 'hooks/useNetlifyIdentity';\nimport { useInput } from 'hooks';\nimport { ModelCtx, UserCtx } from 'contexts';\nimport { LoggedIn } from './components/LoggedIn';\nimport './App.css';\nimport './login.css';\nconst model = new TodoModel('react-todos');\n\nlet Home = () => <div>Home2</div>;\nconst NotFound = () => <div>Sorry, nothing here.</div>;\n\nfunction Login() {\n  const { user, doLogin, doLogout } = React.useContext(UserCtx);\n  // return (\n  //   <div className=\"Login\">\n  //     {user ? (\n  //       <LoggedIn />\n  //     ) : (\n  //       <span>\n  //         <a onClick={doLogin}>Login or Sign Up</a>\n  //       </span>\n  //     )}\n  //   </div>\n  var actionForm = (\n    <span>\n      <a onClick={doLogin}>Login or Sign Up</a>\n    </span>\n  );\n  return (\n    <div className=\"Login\">\n      {user ? <a onClick={doLogout}>Logout</a> : actionForm}\n    </div>\n  );\n}\n\nfunction List(props) {\n  const { model, lists } = React.useContext(ModelCtx);\n  const list = model.list();\n  return (\n    <div>\n      <h3>List</h3>\n      <div className=\"listNav\">\n        <label>{list.data.title}</label>\n        <button onClick={() => alert('oops')}>back to all lists</button>\n      </div>\n      <pre>{JSON.stringify(props, null, 2)}</pre>\n    </div>\n  );\n}\nfunction AllLists() {\n  const { lists } = React.useContext(ModelCtx);\n  console.log('---', { lists });\n  return (\n    <div>\n      <div className=\"listNav\">\n        <label>Choose a list.</label>\n      </div>\n      <section className=\"main\">\n        <ul className=\"todo-list\">\n          {lists.map(({ data, ref }) => {\n            console.log('list', data, ref);\n            return (\n              <li key={ref.value.id}>\n                <label onClick={() => alert('go')}>{data.title}</label>\n              </li>\n            );\n          })}\n        </ul>\n      </section>\n    </div>\n  );\n}\n\nfunction InputArea() {\n  const { model, lists } = React.useContext(ModelCtx);\n  const { setValue, ...inputProps } = useInput();\n  const handleNewTodoKeyDown = event => {\n    if (event.keyCode !== 13) return;\n    event.preventDefault();\n    var val = event.target.value.trim();\n    if (val) {\n      model.addList(val);\n      // if (this.state.nowShowing === ALL_LISTS) {\n      //   modelRef.current.addList(val);\n      // } else {\n      //   modelRef.current.addTodo(val, modelRef.current.list());\n      // }\n      setValue('');\n    }\n  };\n  return (\n    <input\n      className=\"new-todo\"\n      placeholder=\"Create a new list or choose from below.\"\n      onKeyDown={handleNewTodoKeyDown}\n      {...inputProps}\n      autoFocus={true}\n    />\n  );\n}\n\nexport default function App(props) {\n  const modelRef = React.useRef(new TodoModel('react-todos'));\n  const model = modelRef.current;\n  const identity = useNetlifyIdentity(modelRef.current.onAuthChange);\n  const { user, doLogout, doLogin, authedFetch } = identity;\n  const [lists, setLists] = React.useState(model.lists);\n  React.useEffect(() => {\n    model.subscribe(() => {\n      setLists(model.lists);\n    });\n  }, []);\n  return (\n    <ModelCtx.Provider value={{ model, lists }}>\n      <UserCtx.Provider value={identity}>\n        <div>\n          <header className=\"header\">\n            <h1>todos</h1>\n            <Login />\n            <Router>\n              <AllLists path=\"/\" />\n              <div path=\"list\">\n                <List path=\":listId\" />\n                <List path=\":listId/active\" />\n                <List path=\":listId/completed\" />\n              </div>\n              <NotFound default />\n            </Router>\n            <InputArea />\n          </header>\n          <footer className=\"footer\">footer</footer>\n        </div>\n      </UserCtx.Provider>\n    </ModelCtx.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}